<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Echo Trace - Your Life's Safety Net</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap');
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Inter', sans-serif;
            background: linear-gradient(135deg, #0f0f23 0%, #1a1a2e 50%, #16213e 100%);
            color: #ffffff;
            overflow-x: hidden;
            height: 100vh;
        }
        
        /* Animated Background */
        .animated-bg {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -1;
            overflow: hidden;
        }
        
        .wave {
            position: absolute;
            width: 200%;
            height: 200%;
            background: linear-gradient(45deg, 
                rgba(138, 43, 226, 0.1) 0%, 
                rgba(30, 144, 255, 0.1) 50%, 
                rgba(147, 0, 211, 0.1) 100%);
            animation: wave 20s linear infinite;
            border-radius: 50%;
        }
        
        @keyframes wave {
            0% { transform: rotate(0deg) scale(1); }
            50% { transform: rotate(180deg) scale(1.1); }
            100% { transform: rotate(360deg) scale(1); }
        }
        
        /* Screen Container */
        .screen {
            display: none;
            padding: 20px;
            min-height: 100vh;
            padding-bottom: 100px;
        }
        
        .screen.active {
            display: block;
        }
        
        /* Glassmorphism Card */
        .glass-card {
            background: rgba(255, 255, 255, 0.05);
            backdrop-filter: blur(20px);
            border-radius: 20px;
            border: 1px solid rgba(255, 255, 255, 0.1);
            padding: 20px;
            margin: 15px 0;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
            transition: all 0.3s ease;
        }
        
        .glass-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 12px 40px rgba(138, 43, 226, 0.2);
            border-color: rgba(138, 43, 226, 0.3);
        }
        
        /* Buttons */
        .neon-btn {
            background: linear-gradient(135deg, #8a2be2, #4169e1);
            border: none;
            border-radius: 15px;
            padding: 15px 30px;
            color: white;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 0 20px rgba(138, 43, 226, 0.3);
            width: 100%;
            margin: 10px 0;
        }
        
        .neon-btn:hover {
            box-shadow: 0 0 30px rgba(138, 43, 226, 0.6);
            transform: scale(1.05);
        }
        
        .sos-btn {
            width: 120px;
            height: 120px;
            border-radius: 50%;
            background: linear-gradient(135deg, #ff4757, #ff3838);
            border: none;
            color: white;
            font-size: 18px;
            font-weight: bold;
            cursor: pointer;
            box-shadow: 0 0 30px rgba(255, 71, 87, 0.5);
            animation: pulse-sos 2s infinite;
            margin: 20px auto;
            display: block;
        }
        
        @keyframes pulse-sos {
            0% { box-shadow: 0 0 30px rgba(255, 71, 87, 0.5); }
            50% { box-shadow: 0 0 50px rgba(255, 71, 87, 0.8); }
            100% { box-shadow: 0 0 30px rgba(255, 71, 87, 0.5); }
        }
        
        /* Navigation Bar */
        .navbar {
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            background: rgba(0, 0, 0, 0.3);
            backdrop-filter: blur(20px);
            border-top: 1px solid rgba(255, 255, 255, 0.1);
            display: flex;
            justify-content: space-around;
            align-items: center;
            padding: 15px 0;
            z-index: 1000;
        }
        
        .nav-item {
            display: flex;
            flex-direction: column;
            align-items: center;
            cursor: pointer;
            padding: 5px;
            transition: all 0.3s ease;
            border-radius: 15px;
        }
        
        .nav-item:hover, .nav-item.active {
            background: rgba(138, 43, 226, 0.2);
            box-shadow: 0 0 15px rgba(138, 43, 226, 0.3);
        }
        
        .nav-icon {
            font-size: 24px;
            margin-bottom: 5px;
        }
        
        .nav-text {
            font-size: 12px;
            font-weight: 500;
        }
        
        /* Forms */
        .form-group {
            margin: 20px 0;
        }
        
        .form-input {
            width: 100%;
            padding: 15px;
            background: rgba(255, 255, 255, 0.05);
            border: 2px solid rgba(255, 255, 255, 0.1);
            border-radius: 15px;
            color: white;
            font-size: 16px;
            transition: all 0.3s ease;
        }
        
        .form-input:focus {
            outline: none;
            border-color: #8a2be2;
            box-shadow: 0 0 20px rgba(138, 43, 226, 0.3);
        }
        
        .form-input::placeholder {
            color: rgba(255, 255, 255, 0.5);
        }
        
        /* Charts */
        .chart-container {
            height: 200px;
            margin: 20px 0;
            position: relative;
        }
        
        .chart {
            width: 100%;
            height: 100%;
            border-radius: 15px;
        }
        
        /* Status Indicators */
        .status-indicator {
            display: flex;
            align-items: center;
            gap: 10px;
            padding: 10px 15px;
            border-radius: 10px;
            margin: 10px 0;
        }
        
        .status-online {
            background: rgba(46, 213, 115, 0.1);
            border: 1px solid rgba(46, 213, 115, 0.3);
        }
        
        .status-offline {
            background: rgba(255, 71, 87, 0.1);
            border: 1px solid rgba(255, 71, 87, 0.3);
        }
        
        .status-dot {
            width: 10px;
            height: 10px;
            border-radius: 50%;
            animation: pulse-dot 2s infinite;
        }
        
        .status-dot.online {
            background: #2ed573;
        }
        
        .status-dot.offline {
            background: #ff4757;
        }
        
        @keyframes pulse-dot {
            0% { opacity: 1; }
            50% { opacity: 0.5; }
            100% { opacity: 1; }
        }
        
        /* Toggle Switch */
        .toggle-switch {
            position: relative;
            display: inline-block;
            width: 60px;
            height: 30px;
        }
        
        .toggle-input {
            opacity: 0;
            width: 0;
            height: 0;
        }
        
        .toggle-slider {
            position: absolute;
            cursor: pointer;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: rgba(255, 255, 255, 0.1);
            transition: 0.4s;
            border-radius: 30px;
        }
        
        .toggle-slider:before {
            position: absolute;
            content: "";
            height: 22px;
            width: 22px;
            left: 4px;
            bottom: 4px;
            background-color: white;
            transition: 0.4s;
            border-radius: 50%;
        }
        
        .toggle-input:checked + .toggle-slider {
            background: linear-gradient(135deg, #8a2be2, #4169e1);
            box-shadow: 0 0 15px rgba(138, 43, 226, 0.5);
        }
        
        .toggle-input:checked + .toggle-slider:before {
            transform: translateX(30px);
        }
        
        /* Header */
        .header {
            text-align: center;
            margin: 30px 0;
        }
        
        .header h1 {
            font-size: 28px;
            font-weight: 700;
            margin-bottom: 10px;
            background: linear-gradient(135deg, #8a2be2, #4169e1);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
        
        .header p {
            font-size: 16px;
            opacity: 0.8;
        }
        
        /* Stats Cards */
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 15px;
            margin: 20px 0;
        }
        
        .stat-card {
            background: rgba(255, 255, 255, 0.05);
            backdrop-filter: blur(20px);
            border-radius: 15px;
            padding: 20px;
            text-align: center;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        .stat-value {
            font-size: 24px;
            font-weight: 700;
            margin-bottom: 5px;
        }
        
        .stat-label {
            font-size: 12px;
            opacity: 0.7;
        }
        
        /* Timeline Items */
        .timeline-item {
            display: flex;
            align-items: center;
            padding: 15px;
            margin: 10px 0;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 15px;
            border-left: 4px solid #8a2be2;
        }
        
        .timeline-time {
            font-size: 14px;
            font-weight: 600;
            color: #8a2be2;
            margin-right: 15px;
            min-width: 60px;
        }
        
        .timeline-content {
            flex: 1;
        }
        
        .timeline-title {
            font-weight: 600;
            margin-bottom: 5px;
        }
        
        .timeline-details {
            font-size: 14px;
            opacity: 0.7;
        }
        
        /* Emergency Alert */
        .emergency-alert {
            background: rgba(255, 71, 87, 0.1);
            border: 2px solid rgba(255, 71, 87, 0.3);
            border-radius: 15px;
            padding: 20px;
            margin: 20px 0;
            text-align: center;
            animation: pulse-alert 3s infinite;
        }
        
        @keyframes pulse-alert {
            0% { border-color: rgba(255, 71, 87, 0.3); }
            50% { border-color: rgba(255, 71, 87, 0.6); }
            100% { border-color: rgba(255, 71, 87, 0.3); }
        }
        
        /* Responsive Design */
        @media (max-width: 768px) {
            .screen {
                padding: 15px;
                padding-bottom: 100px;
            }
            
            .header h1 {
                font-size: 24px;
            }
            
            .stats-grid {
                grid-template-columns: repeat(2, 1fr);
            }
        }
        
        .health-risk-normal { color: #2ed573; }
        .health-risk-warning { color: #ffa502; }
        .health-risk-danger { color: #ff4757; }
        
        /* Map Container */
        .map-container {
            height: 300px;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 15px;
            display: flex;
            align-items: center;
            justify-content: center;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        .location-marker {
            width: 20px;
            height: 20px;
            background: #8a2be2;
            border-radius: 50%;
            box-shadow: 0 0 20px rgba(138, 43, 226, 0.6);
            animation: pulse-marker 2s infinite;
        }
        
        @keyframes pulse-marker {
            0% { transform: scale(1); }
            50% { transform: scale(1.2); }
            100% { transform: scale(1); }
        }

        /* Button Active States */
        .btn-active {
            background: linear-gradient(135deg, #8a2be2, #4169e1) !important;
            box-shadow: 0 0 30px rgba(138, 43, 226, 0.6) !important;
        }

        .btn-inactive {
            background: rgba(255,255,255,0.1) !important;
        }
    </style>
</head>
<body>

    <!-- Animated Background -->
    <div class="animated-bg">
        <div class="wave"></div>
    </div>

    <!-- Splash Screen -->
    <div id="splash" class="screen active">
        <div class="header" style="margin-top: 100px;">
            <h1 style="font-size: 36px;">Echo Trace</h1>
            <p>Your life's safety net. Secure. Smart. Human-first.</p>
        </div>
        
        <div class="glass-card" style="margin-top: 60px; text-align: center;">
            <div style="font-size: 80px; margin-bottom: 20px;">üõ°Ô∏è</div>
            <p style="margin-bottom: 30px; opacity: 0.8;">Experience the future of personal safety and life monitoring</p>
            <button class="neon-btn" onclick="showScreen('login')">Get Started</button>
            
            <div style="margin-top: 30px; display: flex; justify-content: center; gap: 20px;">
                <div style="font-size: 24px; cursor: pointer; opacity: 0.6;">üçé</div>
                <div style="font-size: 24px; cursor: pointer; opacity: 0.6;">üì±</div>
            </div>
        </div>
    </div>

    <!-- Login Screen -->
    <div id="login" class="screen">
        <div class="header">
            <h1>Welcome Back</h1>
            <p>Sign in to access your safety dashboard</p>
        </div>
        
        <div class="glass-card">
            <div class="form-group">
                <input type="email" class="form-input" placeholder="Email address" id="email">
            </div>
            <div class="form-group">
                <input type="password" class="form-input" placeholder="Password" id="password">
            </div>
            <button class="neon-btn" onclick="login()">Log In</button>
            <button class="neon-btn" style="background: rgba(255,255,255,0.1);" onclick="showScreen('signup')">Create Account</button>
            
            <div style="text-align: center; margin-top: 20px;">
                <p style="opacity: 0.6; margin-bottom: 15px;">Or continue with</p>
                <div style="display: flex; justify-content: center; gap: 20px;">
                    <div style="font-size: 24px; cursor: pointer;">üçé</div>
                    <div style="font-size: 24px; cursor: pointer;">üì±</div>
                </div>
            </div>
        </div>
    </div>

    <!-- Signup Screen -->
    <div id="signup" class="screen">
        <div class="header">
            <h1>Join Echo Trace</h1>
            <p>Create your safety profile in minutes</p>
        </div>
        
        <div class="glass-card">
            <div class="form-group">
                <input type="text" class="form-input" placeholder="Full Name" id="name">
            </div>
            <div class="form-group">
                <input type="email" class="form-input" placeholder="Email address" id="signup-email">
            </div>
            <div class="form-group">
                <input type="password" class="form-input" placeholder="Create Password" id="signup-password">
            </div>
            <div class="form-group">
                <input type="tel" class="form-input" placeholder="Emergency Contact Number" id="emergency-contact">
            </div>
            <button class="neon-btn" onclick="signup()">Create Account</button>
            <button class="neon-btn" style="background: rgba(255,255,255,0.1);" onclick="showScreen('login')">Already have an account?</button>
        </div>
    </div>

    <!-- Dashboard Screen -->
    <div id="dashboard" class="screen">
        <div class="header">
            <div style="display: flex; align-items: center; justify-content: space-between;">
                <div>
                    <h1>Hello, Atharv</h1>
                    <p>Your safety status: All systems active</p>
                </div>
                <div style="width: 50px; height: 50px; border-radius: 50%; background: linear-gradient(135deg, #8a2be2, #4169e1); display: flex; align-items: center; justify-content: center; cursor: pointer;" onclick="showScreen('profile')">
                    üë§
                </div>
            </div>
        </div>

        <!-- Device Status -->
        <div class="glass-card">
            <h3 style="margin-bottom: 15px;">üì± Device Status</h3>
            <div class="status-indicator status-online">
                <div class="status-dot online"></div>
                <span>Apple Watch Connected</span>
            </div>
            <div class="status-indicator status-online">
                <div class="status-dot online"></div>
                <span>Crash Detection Active</span>
            </div>
        </div>

        <!-- Quick Stats -->
        <div class="stats-grid">
            <div class="stat-card">
                <div class="stat-value health-risk-normal">72</div>
                <div class="stat-label">Heart Rate (BPM)</div>
            </div>
            <div class="stat-card">
                <div class="stat-value health-risk-normal">98%</div>
                <div class="stat-label">Blood Oxygen</div>
            </div>
            <div class="stat-card">
                <div class="stat-value health-risk-warning">Medium</div>
                <div class="stat-label">Stress Level</div>
            </div>
            <div class="stat-card">
                <div class="stat-value health-risk-normal">7.5h</div>
                <div class="stat-label">Last Sleep</div>
            </div>
        </div>

        <!-- Last Timeline Report -->
        <div class="glass-card">
            <h3 style="margin-bottom: 15px;">üìç Last Timeline Report</h3>
            <div class="timeline-item">
                <div class="timeline-time">15:42</div>
                <div class="timeline-content">
                    <div class="timeline-title">Current Location</div>
                    <div class="timeline-details">Loni kalbhor (MIT ADT), Pune , Maharashtra</div>
                </div>
            </div>
            <div class="timeline-item">
                <div class="timeline-time">15:30</div>
                <div class="timeline-content">
                    <div class="timeline-title">Health Check</div>
                    <div class="timeline-details">Heart rate: 72 BPM, Oxygen: 98%</div>
                </div>
            </div>
        </div>

        <!-- Emergency SOS -->
        <div class="glass-card" style="text-align: center;">
            <h3 style="margin-bottom: 20px;">üö® Emergency Access</h3>
            <button class="sos-btn" onclick="triggerSOS()">SOS</button>
            <p style="opacity: 0.7; font-size: 14px;">Press and hold for 3 seconds to activate emergency protocol</p>
        </div>
    </div>

    <!-- Timeline Screen -->
    <div id="timeline" class="screen">
        <div class="header">
            <h1>Timeline Report</h1>
            <p>Your activity history and safety logs</p>
        </div>

        <!-- Time Filter -->
        <div class="glass-card">
            <div style="display: flex; gap: 10px;">
                <button class="neon-btn btn-active" id="btn-24h" style="flex: 1;" onclick="filterTimeline('24h')">24 Hours</button>
                <button class="neon-btn btn-inactive" id="btn-7d" style="flex: 1;" onclick="filterTimeline('7d')">7 Days</button>
            </div>
        </div>

        <!-- Timeline Items Container -->
        <div class="glass-card">
            <h3 style="margin-bottom: 15px;">üìä Activity Timeline</h3>
            <div id="timeline-content">
                <!-- Timeline items will be populated here -->
            </div>
        </div>
    </div>

    <!-- Health Screen -->
    <div id="health" class="screen">
        <div class="header">
            <h1>Health Monitor</h1>
            <p>Real-time health data and insights</p>
        </div>

        <!-- Live Stats -->
        <div class="stats-grid">
            <div class="stat-card">
                <div class="stat-value health-risk-normal">72</div>
                <div class="stat-label">Heart Rate (BPM)</div>
            </div>
            <div class="stat-card">
                <div class="stat-value health-risk-normal">98%</div>
                <div class="stat-label">Blood Oxygen</div>
            </div>
            <div class="stat-card">
                <div class="stat-value health-risk-warning">Medium</div>
                <div class="stat-label">Stress Level</div>
            </div>
            <div class="stat-card">
                <div class="stat-value health-risk-normal">36.8¬∞C</div>
                <div class="stat-label">Body Temperature</div>
            </div>
        </div>

        <!-- Heart Rate Chart -->
        <div class="glass-card">
            <h3 style="margin-bottom: 15px;">‚ù§Ô∏è Heart Rate Trend (Last 6 Hours)</h3>
            <div class="chart-container">
                <canvas id="heartRateChart" class="chart"></canvas>
            </div>
            <p style="font-size: 12px; opacity: 0.7; margin-top: 10px;">X-axis: Time (Hours) | Y-axis: BPM (Beats Per Minute)</p>
        </div>

        <!-- Stress Level Chart -->
        <div class="glass-card">
            <h3 style="margin-bottom: 15px;">üß† Stress Level Analysis (Last 24 Hours)</h3>
            <div class="chart-container">
                <canvas id="stressChart" class="chart"></canvas>
            </div>
            <p style="font-size: 12px; opacity: 0.7; margin-top: 10px;">X-axis: Time (Hours) | Y-axis: Stress Level (1-10 Scale)</p>
        </div>

        <!-- Sleep Quality -->
        <div class="glass-card">
            <h3 style="margin-bottom: 15px;">üò¥ Sleep Quality (Last 7 Days)</h3>
            <div class="chart-container">
                <canvas id="sleepChart" class="chart"></canvas>
            </div>
            <p style="font-size: 12px; opacity: 0.7; margin-top: 10px;">X-axis: Days | Y-axis: Sleep Hours</p>
        </div>

        <!-- Health Alerts -->
        <div class="glass-card">
            <h3 style="margin-bottom: 15px;">‚öïÔ∏è Health Alerts</h3>
            <div style="background: rgba(255, 193, 7, 0.1); border: 1px solid rgba(255, 193, 7, 0.3); border-radius: 10px; padding: 15px; margin: 10px 0;">
                <strong>‚ö†Ô∏è Elevated Stress Detected</strong>
                <p style="font-size: 14px; opacity: 0.8; margin-top: 5px;">Your stress levels have been elevated for the past 2 hours. Consider taking a break.</p>
            </div>
        </div>
    </div>

    <!-- Emergency Alert Screen -->
    <div id="alerts" class="screen">
        <div class="header">
            <h1>Emergency Center</h1>
            <p>Instant access to emergency services</p>
        </div>

        <!-- Main SOS Button -->
        <div class="glass-card" style="text-align: center;">
            <h3 style="margin-bottom: 30px; color: #ff4757;">üö® Emergency Protocol</h3>
            <button class="sos-btn" onclick="triggerSOS()" style="width: 150px; height: 150px; font-size: 24px;">
                SOS
            </button>
            <p style="opacity: 0.7; font-size: 14px; margin-top: 20px;">Press for immediate emergency response</p>
        </div>

        <!-- Emergency Options -->
        <div class="glass-card">
            <h3 style="margin-bottom: 15px;">‚ö° Quick Actions</h3>
            
            <div style="display: flex; align-items: center; justify-content: space-between; padding: 15px; background: rgba(255,255,255,0.05); border-radius: 10px; margin: 10px 0;">
                <span>üìû Notify Family</span>
                <label class="toggle-switch">
                    <input type="checkbox" class="toggle-input" checked>
                    <span class="toggle-slider"></span>
                </label>
            </div>

            <div style="display: flex; align-items: center; justify-content: space-between; padding: 15px; background: rgba(255,255,255,0.05); border-radius: 10px; margin: 10px 0;">
                <span>üöë Call Ambulance</span>
                <label class="toggle-switch">
                    <input type="checkbox" class="toggle-input" checked>
                    <span class="toggle-slider"></span>
                </label>
            </div>

            <div style="display: flex; align-items: center; justify-content: space-between; padding: 15px; background: rgba(255,255,255,0.05); border-radius: 10px; margin: 10px 0;">
                <span>üì° Bluetooth Mesh Alert</span>
                <label class="toggle-switch">
                    <input type="checkbox" class="toggle-input" checked>
                    <span class="toggle-slider"></span>
                </label>
            </div>
        </div>

        <!-- Bluetooth Mesh Feature -->
        <div class="glass-card">
            <h3 style="margin-bottom: 15px;">üì° Nearby Alert Network</h3>
            <div class="emergency-alert">
                <h4>üåê Bluetooth Mesh Emergency</h4>
                <p style="margin: 10px 0; font-size: 14px;">In case of emergency, alert will be sent to all Echo Trace users within 100m radius via Bluetooth mesh network.</p>
                <div style="display: flex; justify-content: center; align-items: center; gap: 10px; margin-top: 15px;">
                    <div class="location-marker"></div>
                    <span style="font-size: 12px;">Broadcasting to nearby devices...</span>
                </div>
            </div>
        </div>

        <!-- Recent Emergency Logs -->
        <div class="glass-card">
            <h3 style="margin-bottom: 15px;">üìã Emergency History</h3>
            
            <div class="timeline-item">
                <div class="timeline-time">Today</div>
                <div class="timeline-content">
                    <div class="timeline-title">‚úÖ Test Alert Successful</div>
                    <div class="timeline-details">Monthly safety check completed</div>
                </div>
            </div>

            <div class="timeline-item">
                <div class="timeline-time">Jan 15</div>
                <div class="timeline-content">
                    <div class="timeline-title">üö® Emergency Triggered</div>
                    <div class="timeline-details">False alarm - User confirmed safety</div>
                </div>
            </div>
        </div>
    </div>

    <!-- Missing Person Tracking Screen -->
    <div id="missing-person" class="screen">
        <div class="header">
            <h1>Location Tracking</h1>
            <p>Real-time location and activity monitoring</p>
        </div>

        <!-- Current Location -->
        <div class="glass-card">
            <h3 style="margin-bottom: 15px;">üìç Current Location</h3>
            <div class="map-container">
                <div class="location-marker"></div>
            </div>
            <div style="text-align: center; margin-top: 15px;">
                <p><strong>19.0760¬∞N, 72.8777¬∞E</strong></p>
                <p style="opacity: 0.7;">Mumbai Central, Maharashtra, India</p>
                <p style="font-size: 12px; opacity: 0.6; margin-top: 10px;">Last updated: 2 minutes ago</p>
            </div>
        </div>

        <!-- Location Timeline -->
        <div class="glass-card">
            <h3 style="margin-bottom: 15px;">üïê Recent Locations</h3>
            
            <div class="timeline-item">
                <div class="timeline-time">15:42</div>
                <div class="timeline-content">
                    <div class="timeline-title">üìç Mumbai Central</div>
                    <div class="timeline-details">19.0760¬∞N, 72.8777¬∞E</div>
                </div>
            </div>

            <div class="timeline-item">
                <div class="timeline-time">14:30</div>
                <div class="timeline-content">
                    <div class="timeline-title">üìç Bandra West</div>
                    <div class="timeline-details">19.0596¬∞N, 72.8295¬∞E</div>
                </div>
            </div>

            <div class="timeline-item">
                <div class="timeline-time">13:15</div>
                <div class="timeline-content">
                    <div class="timeline-title">üìç Juhu Beach</div>
                    <div class="timeline-details">19.0990¬∞N, 72.8258¬∞E</div>
                </div>
            </div>

            <div class="timeline-item">
                <div class="timeline-time">12:00</div>
                <div class="timeline-content">
                    <div class="timeline-title">üìç Home Location</div>
                    <div class="timeline-details">19.1136¬∞N, 72.8697¬∞E</div>
                </div>
            </div>
        </div>

        <!-- Generate Report -->
        <div class="glass-card" style="text-align: center;">
            <h3 style="margin-bottom: 20px;">üìÑ Location Report</h3>
            <button class="neon-btn" onclick="generateLocationReport()">Generate Detailed Report</button>
            <p style="opacity: 0.7; font-size: 14px; margin-top: 10px;">Create comprehensive location and activity report for authorities</p>
        </div>
    </div>

    <!-- Settings Screen -->
    <div id="settings" class="screen">
        <div class="header">
            <h1>Settings</h1>
            <p>Configure your safety preferences</p>
        </div>

        <!-- Trusted Contacts -->
        <div class="glass-card">
            <h3 style="margin-bottom: 15px;">üë• Trusted Contacts</h3>
            <p style="opacity: 0.7; margin-bottom: 15px;">Manage emergency contacts and beneficiaries</p>
            
            <div style="background: rgba(255,255,255,0.05); border-radius: 10px; padding: 15px; margin: 10px 0;">
                <div style="display: flex; justify-content: space-between; align-items: center;">
                    <div>
                        <strong>üë© Mom</strong>
                        <p style="font-size: 14px; opacity: 0.7;">+91 98765 43210</p>
                    </div>
                    <button style="background: none; border: 1px solid #8a2be2; color: #8a2be2; padding: 5px 10px; border-radius: 5px; cursor: pointer;">Edit</button>
                </div>
            </div>

            <div style="background: rgba(255,255,255,0.05); border-radius: 10px; padding: 15px; margin: 10px 0;">
                <div style="display: flex; justify-content: space-between; align-items: center;">
                    <div>
                        <strong>üë® Dad</strong>
                        <p style="font-size: 14px; opacity: 0.7;">+91 98765 43211</p>
                    </div>
                    <button style="background: none; border: 1px solid #8a2be2; color: #8a2be2; padding: 5px 10px; border-radius: 5px; cursor: pointer;">Edit</button>
                </div>
            </div>

            <button class="neon-btn" style="background: rgba(255,255,255,0.1);">+ Add New Contact</button>
        </div>

        <!-- Privacy Controls -->
        <div class="glass-card">
            <h3 style="margin-bottom: 15px;">üîí Privacy Controls</h3>
            <p style="opacity: 0.7; margin-bottom: 15px;">Data sharing and consent management</p>
            
            <div style="display: flex; align-items: center; justify-content: space-between; padding: 15px; background: rgba(255,255,255,0.05); border-radius: 10px; margin: 10px 0;">
                <span>üìä Health Data Sharing</span>
                <label class="toggle-switch">
                    <input type="checkbox" class="toggle-input" checked>
                    <span class="toggle-slider"></span>
                </label>
            </div>

            <div style="display: flex; align-items: center; justify-content: space-between; padding: 15px; background: rgba(255,255,255,0.05); border-radius: 10px; margin: 10px 0;">
                <span>üìç Location Sharing</span>
                <label class="toggle-switch">
                    <input type="checkbox" class="toggle-input" checked>
                    <span class="toggle-slider"></span>
                </label>
            </div>
        </div>

        <!-- Device Permissions -->
        <div class="glass-card">
            <h3 style="margin-bottom: 15px;">üì± Device Permissions</h3>
            
            <div style="display: flex; align-items: center; justify-content: space-between; padding: 15px; background: rgba(255,255,255,0.05); border-radius: 10px; margin: 10px 0;">
                <span>üì∂ Bluetooth Access</span>
                <label class="toggle-switch">
                    <input type="checkbox" class="toggle-input" checked>
                    <span class="toggle-slider"></span>
                </label>
            </div>

            <div style="display: flex; align-items: center; justify-content: space-between; padding: 15px; background: rgba(255,255,255,0.05); border-radius: 10px; margin: 10px 0;">
                <span>üìç Location Services</span>
                <label class="toggle-switch">
                    <input type="checkbox" class="toggle-input" checked>
                    <span class="toggle-slider"></span>
                </label>
            </div>

            <div style="display: flex; align-items: center; justify-content: space-between; padding: 15px; background: rgba(255,255,255,0.05); border-radius: 10px; margin: 10px 0;">
                <span>üìû Call Access</span>
                <label class="toggle-switch">
                    <input type="checkbox" class="toggle-input" checked>
                    <span class="toggle-slider"></span>
                </label>
            </div>

            <div style="display: flex; align-items: center; justify-content: space-between; padding: 15px; background: rgba(255,255,255,0.05); border-radius: 10px; margin: 10px 0;">
                <span>üí¨ SMS Access</span>
                <label class="toggle-switch">
                    <input type="checkbox" class="toggle-input" checked>
                    <span class="toggle-slider"></span>
                </label>
            </div>
        </div>

        <!-- Security -->
        <div class="glass-card">
            <h3 style="margin-bottom: 15px;">üîê Security & Integration</h3>
            
            <div style="background: rgba(255,255,255,0.05); border-radius: 10px; padding: 15px; margin: 10px 0;">
                <div style="display: flex; justify-content: space-between; align-items: center;">
                    <div>
                        <strong>‚õìÔ∏è Blockchain Security</strong>
                        <p style="font-size: 14px; opacity: 0.7;">Encrypted data storage</p>
                    </div>
                    <label class="toggle-switch">
                        <input type="checkbox" class="toggle-input" checked>
                        <span class="toggle-slider"></span>
                    </label>
                </div>
            </div>

            <div style="background: rgba(255,255,255,0.05); border-radius: 10px; padding: 15px; margin: 10px 0;">
                <div style="display: flex; justify-content: space-between; align-items: center;">
                    <div>
                        <strong>üè• Insurance Integration</strong>
                        <p style="font-size: 14px; opacity: 0.7;">Auto-claim processing</p>
                    </div>
                    <button style="background: none; border: 1px solid #8a2be2; color: #8a2be2; padding: 5px 10px; border-radius: 5px; cursor: pointer;">Setup</button>
                </div>
            </div>

            <div style="background: rgba(255,255,255,0.05); border-radius: 10px; padding: 15px; margin: 10px 0;">
                <div style="display: flex; justify-content: space-between; align-items: center;">
                    <div>
                        <strong>üëÆ Police Integration</strong>
                        <p style="font-size: 14px; opacity: 0.7;">Direct emergency line</p>
                    </div>
                    <button style="background: none; border: 1px solid #8a2be2; color: #8a2be2; padding: 5px 10px; border-radius: 5px; cursor: pointer;">Connect</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Statistics Screen -->
    <div id="statistics" class="screen">
        <div class="header">
            <h1>Safety Analytics</h1>
            <p>Insights and anomaly detection</p>
        </div>

        <!-- Risk Analysis -->
        <div class="glass-card">
            <h3 style="margin-bottom: 15px;">‚ö†Ô∏è Risk Analysis</h3>
            <div style="background: rgba(255, 193, 7, 0.1); border: 1px solid rgba(255, 193, 7, 0.3); border-radius: 10px; padding: 15px; margin: 10px 0;">
                <strong>‚ö° Pattern Alert</strong>
                <p style="font-size: 14px; opacity: 0.8; margin-top: 5px;">High Stress + Overspeed = Increased Risk</p>
                <p style="font-size: 12px; opacity: 0.6; margin-top: 10px;">Detected 3 instances this week during evening commute</p>
            </div>
        </div>

        <!-- Safety Score Chart -->
        <div class="glass-card">
            <h3 style="margin-bottom: 15px;">üõ°Ô∏è Safety Score Trend (Last 30 Days)</h3>
            <div class="chart-container">
                <canvas id="safetyChart" class="chart"></canvas>
            </div>
            <p style="font-size: 12px; opacity: 0.7; margin-top: 10px;">X-axis: Days | Y-axis: Safety Score (0-100)</p>
        </div>

        <!-- Preventive Alerts -->
        <div class="glass-card">
            <h3 style="margin-bottom: 15px;">üîî Preventive Insights</h3>
            
            <div style="background: rgba(46, 213, 115, 0.1); border: 1px solid rgba(46, 213, 115, 0.3); border-radius: 10px; padding: 15px; margin: 10px 0;">
                <strong>‚úÖ Good Sleep Pattern</strong>
                <p style="font-size: 14px; opacity: 0.8; margin-top: 5px;">Consistent 7-8 hours sleep improves reaction time by 23%</p>
            </div>

            <div style="background: rgba(255, 71, 87, 0.1); border: 1px solid rgba(255, 71, 87, 0.3); border-radius: 10px; padding: 15px; margin: 10px 0;">
                <strong>‚ö†Ô∏è Stress During Driving</strong>
                <p style="font-size: 14px; opacity: 0.8; margin-top: 5px;">Take breaks every 2 hours to reduce accident risk by 15%</p>
            </div>
        </div>

        <!-- Activity Pattern Chart -->
        <div class="glass-card">
            <h3 style="margin-bottom: 15px;">üìä Weekly Activity Pattern</h3>
            <div class="chart-container">
                <canvas id="activityChart" class="chart"></canvas>
            </div>
            <p style="font-size: 12px; opacity: 0.7; margin-top: 10px;">X-axis: Days of Week | Y-axis: Activity Level</p>
        </div>
    </div>

    <!-- Profile Screen -->
    <div id="profile" class="screen">
        <div class="header">
            <h1>Profile</h1>
            <p>Your personal safety information</p>
        </div>

        <!-- User Info -->
        <div class="glass-card" style="text-align: center;">
            <div style="width: 80px; height: 80px; border-radius: 50%; background: linear-gradient(135deg, #8a2be2, #4169e1); display: flex; align-items: center; justify-content: center; margin: 0 auto 20px; font-size: 32px;">
                üë§
            </div>
            <h2>Atharv Patel</h2>
            <p style="opacity: 0.7;">atharv.patel@example.com</p>
            <p style="opacity: 0.6; font-size: 14px; margin-top: 10px;">Member since January 2024</p>
        </div>

        <!-- Quick Stats -->
        <div class="stats-grid">
            <div class="stat-card">
                <div class="stat-value">47</div>
                <div class="stat-label">Days Active</div>
            </div>
            <div class="stat-card">
                <div class="stat-value">2</div>
                <div class="stat-label">Emergency Tests</div>
            </div>
            <div class="stat-card">
                <div class="stat-value">2</div>
                <div class="stat-label">Trusted Contacts</div>
            </div>
            <div class="stat-card">
                <div class="stat-value">98%</div>
                <div class="stat-label">Safety Score</div>
            </div>
        </div>

        <!-- Recent Activity -->
        <div class="glass-card">
            <h3 style="margin-bottom: 15px;">üì± Recent Activity</h3>
            
            <div class="timeline-item">
                <div class="timeline-time">Today</div>
                <div class="timeline-content">
                    <div class="timeline-title">Health sync completed</div>
                    <div class="timeline-details">Apple Watch data synchronized</div>
                </div>
            </div>

            <div class="timeline-item">
                <div class="timeline-time">Yesterday</div>
                <div class="timeline-content">
                    <div class="timeline-title">Safety check passed</div>
                    <div class="timeline-details">All systems functioning normally</div>
                </div>
            </div>
        </div>

        <!-- Account Actions -->
        <div class="glass-card">
            <button class="neon-btn" style="background: rgba(255,255,255,0.1);">Edit Profile</button>
            <button class="neon-btn" style="background: rgba(255,255,255,0.1);">Download Data</button>
            <button class="neon-btn" style="background: rgba(255, 71, 87, 0.2); border: 1px solid rgba(255, 71, 87, 0.3);">Sign Out</button>
        </div>
    </div>

    <!-- Navigation Bar -->
    <div class="navbar">
        <div class="nav-item active" onclick="navigateTo('dashboard', this)">
            <div class="nav-icon">üè†</div>
            <div class="nav-text">Home</div>
        </div>
        <div class="nav-item" onclick="navigateTo('timeline', this)">
            <div class="nav-icon">üìä</div>
            <div class="nav-text">Timeline</div>
        </div>
        <div class="nav-item" onclick="navigateTo('health', this)">
            <div class="nav-icon">‚ù§Ô∏è</div>
            <div class="nav-text">Health</div>
        </div>
        <div class="nav-item" onclick="navigateTo('alerts', this)">
            <div class="nav-icon">üö®</div>
            <div class="nav-text">Alerts</div>
        </div>
        <div class="nav-item" onclick="navigateTo('settings', this)">
            <div class="nav-icon">‚öôÔ∏è</div>
            <div class="nav-text">Settings</div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="js/api.js"></script>
    <script src="js/charts.js"></script>
    <script>
        // Global variables
        let currentScreen = 'splash';
        let sosTimer = null;
        let emergencyActive = false;
        let currentTimelineFilter = '24h'; // Track current filter

        // Timeline data for different periods
        const timelineData = {
            '24h': [
                {
                    time: '15:42',
                    icon: 'üìç',
                    title: 'Location Update',
                    details: '19.0760¬∞N, 72.8777¬∞E - Pune, loni kalbhor'
                },
                {
                    time: '14:23',
                    icon: 'üöó',
                    title: 'Driving Detected',
                    details: 'Speed: 65 km/h, Route: Western Express Highway'
                },
                {
                    time: '13:15',
                    icon: '‚ö°',
                    title: 'Stress Spike',
                    details: 'Elevated heart rate: 95 BPM, Deep breathing recommended'
                },
                {
                    time: '12:30',
                    icon: 'üìû',
                    title: 'Emergency Contact Called',
                    details: 'Called Mom - Duration: 5 minutes'
                },
                {
                    time: '11:45',
                    icon: 'üèÉ',
                    title: 'Exercise Detected',
                    details: 'Running - 30 minutes, Average HR: 140 BPM'
                }
            ],
            '7d': [
                {
                    time: 'Today',
                    icon: 'üõ°Ô∏è',
                    title: 'Safety Check Complete',
                    details: 'All monitoring systems operational, 98% safety score'
                },
                {
                    time: 'Yesterday',
                    icon: 'üö®',
                    title: 'Emergency Test Passed',
                    details: 'Monthly emergency protocol test successful'
                },
                {
                    time: '2 days ago',
                    icon: 'üè•',
                    title: 'Health Alert Resolved',
                    details: 'Stress levels normalized after meditation session'
                },
                {
                    time: '3 days ago',
                    icon: 'üì±',
                    title: 'Device Sync Complete',
                    details: 'Apple Watch and iPhone health data synchronized'
                },
                {
                    time: '4 days ago',
                    icon: 'üöó',
                    title: 'Safe Trip Completed',
                    details: 'Mumbai to Pune journey - No incidents detected'
                },
                {
                    time: '5 days ago',
                    icon: 'üí§',
                    title: 'Sleep Pattern Improved',
                    details: '8.2 hours quality sleep, REM sleep optimized'
                },
                {
                    time: '6 days ago',
                    icon: '‚ö†Ô∏è',
                    title: 'Risk Pattern Detected',
                    details: 'High stress during evening commute - Alert sent to contacts'
                },
                {
                    time: '7 days ago',
                    icon: 'üîÑ',
                    title: 'Weekly Report Generated',
                    details: 'Comprehensive safety and health analysis completed'
                }
            ]
        };

        // Screen Navigation
        function showScreen(screenId) {
            // Hide all screens
            document.querySelectorAll('.screen').forEach(screen => {
                screen.classList.remove('active');
            });
            
            // Show target screen
            document.getElementById(screenId).classList.add('active');
            currentScreen = screenId;
            
            // Update navbar visibility
            if (['splash', 'login', 'signup'].includes(screenId)) {
                document.querySelector('.navbar').style.display = 'none';
            } else {
                document.querySelector('.navbar').style.display = 'flex';
            }

            // Initialize timeline content when showing timeline screen
            if (screenId === 'timeline') {
                loadTimelineData(currentTimelineFilter);
            }

            // Initialize charts if on health or statistics screen
            if (screenId === 'health') {
                setTimeout(initHealthCharts, 100);
            } else if (screenId === 'statistics') {
                setTimeout(initStatsCharts, 100);
            }
        }

        // Navigation with navbar highlighting
        function navigateTo(screenId, navElement) {
            showScreen(screenId);
            
            // Update navbar active state
            document.querySelectorAll('.nav-item').forEach(item => {
                item.classList.remove('active');
            });
            navElement.classList.add('active');
        }

        // Load timeline data based on filter
        function loadTimelineData(period) {
            const timelineContent = document.getElementById('timeline-content');
            const data = timelineData[period];
            
            if (!timelineContent || !data) return;

            timelineContent.innerHTML = '';

            data.forEach(item => {
                const timelineItem = document.createElement('div');
                timelineItem.className = 'timeline-item';
                timelineItem.innerHTML = `
                    <div class="timeline-time">${item.time}</div>
                    <div class="timeline-content">
                        <div class="timeline-title">${item.icon} ${item.title}</div>
                        <div class="timeline-details">${item.details}</div>
                    </div>
                `;
                timelineContent.appendChild(timelineItem);
            });
        }

        // Timeline Filter Function
        function filterTimeline(period) {
            currentTimelineFilter = period;
            
            // Update button styles
            const btn24h = document.getElementById('btn-24h');
            const btn7d = document.getElementById('btn-7d');
            
            if (period === '24h') {
                btn24h.className = 'neon-btn btn-active';
                btn7d.className = 'neon-btn btn-inactive';
                showNotification('Timeline filtered to show last 24 hours', 'info');
            } else {
                btn24h.className = 'neon-btn btn-inactive';
                btn7d.className = 'neon-btn btn-active';
                showNotification('Timeline filtered to show last 7 days', 'info');
            }
            
            // Load new timeline data
            loadTimelineData(period);
        }

        // Login functionality
        function login() {
            const email = document.getElementById('email').value;
            const password = document.getElementById('password').value;
            
            if (email && password) {
                // Simulate login success
                showNotification('Login successful! Welcome back, Atharv.', 'success');
                setTimeout(() => showScreen('dashboard'), 1000);
            } else {
                showNotification('Please enter email and password', 'error');
            }
        }

        // Signup functionality
        function signup() {
            const name = document.getElementById('name').value;
            const email = document.getElementById('signup-email').value;
            const password = document.getElementById('signup-password').value;
            const emergency = document.getElementById('emergency-contact').value;
            
            if (name && email && password && emergency) {
                showNotification('Account created successfully! Welcome to Echo Trace.', 'success');
                setTimeout(() => showScreen('dashboard'), 1000);
            } else {
                showNotification('Please fill in all fields', 'error');
            }
        }

        // SOS Emergency Function
        function triggerSOS() {
            if (emergencyActive) return;
            
            emergencyActive = true;
            showNotification('üö® EMERGENCY ACTIVATED! Contacting emergency services...', 'emergency');
            
            // Simulate emergency protocol
            setTimeout(() => {
                showNotification('üìû Emergency contacts notified', 'success');
            }, 2000);
            
            setTimeout(() => {
                showNotification('üöë Ambulance dispatched to your location', 'success');
            }, 4000);
            
            setTimeout(() => {
                showNotification('üì° Bluetooth mesh alert sent to nearby devices', 'success');
            }, 6000);

            // Simulate sharing location with emergency services
            setTimeout(() => {
                showNotification('üìç Location shared: 19.0760¬∞N, 72.8777¬∞E', 'success');
            }, 8000);

            // Reset emergency state after 30 seconds
            setTimeout(() => {
                emergencyActive = false;
                showNotification('Emergency protocol completed. Stay safe!', 'success');
            }, 30000);
        }

        // Generate Location Report
        function generateLocationReport() {
            showNotification('üìÑ Generating detailed location report...', 'info');
            setTimeout(() => {
                showNotification('Report generated and saved to your profile', 'success');
            }, 3000);
        }

        // Notification System
        function showNotification(message, type = 'info') {
            // Create notification element
            const notification = document.createElement('div');
            notification.style.cssText = `
                position: fixed;
                top: 20px;
                right: 20px;
                background: ${type === 'error' ? 'rgba(255, 71, 87, 0.9)' : 
                           type === 'success' ? 'rgba(46, 213, 115, 0.9)' :
                           type === 'emergency' ? 'rgba(255, 71, 87, 0.95)' :
                           'rgba(138, 43, 226, 0.9)'};
                color: white;
                padding: 15px 20px;
                border-radius: 10px;
                backdrop-filter: blur(20px);
                border: 1px solid rgba(255, 255, 255, 0.2);
                z-index: 10000;
                max-width: 300px;
                font-size: 14px;
                font-weight: 500;
                box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
                animation: slideIn 0.3s ease;
            `;
            
            notification.textContent = message;
            document.body.appendChild(notification);
            
            // Remove after 5 seconds (30 seconds for emergency)
            setTimeout(() => {
                notification.style.animation = 'slideOut 0.3s ease';
                setTimeout(() => notification.remove(), 300);
            }, type === 'emergency' ? 30000 : 5000);
        }

        // Initialize Health Charts
        function initHealthCharts() {
            // Heart Rate Chart
            const heartCtx = document.getElementById('heartRateChart');
            if (heartCtx && !heartCtx.chartInstance) {
                heartCtx.chartInstance = new Chart(heartCtx, {
                    type: 'line',
                    data: {
                        labels: ['10:00', '11:00', '12:00', '13:00', '14:00', '15:00'],
                        datasets: [{
                            label: 'Heart Rate (BPM)',
                            data: [68, 72, 85, 78, 75, 72],
                            borderColor: '#8a2be2',
                            backgroundColor: 'rgba(138, 43, 226, 0.1)',
                            tension: 0.4,
                            fill: true
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        plugins: {
                            legend: { display: false }
                        },
                        scales: {
                            x: { 
                                grid: { color: 'rgba(255,255,255,0.1)' },
                                ticks: { color: 'rgba(255,255,255,0.7)' }
                            },
                            y: { 
                                grid: { color: 'rgba(255,255,255,0.1)' },
                                ticks: { color: 'rgba(255,255,255,0.7)' },
                                min: 60, max: 100
                            }
                        }
                    }
                });
            }

            // Stress Level Chart
            const stressCtx = document.getElementById('stressChart');
            if (stressCtx && !stressCtx.chartInstance) {
                stressCtx.chartInstance = new Chart(stressCtx, {
                    type: 'line',
                    data: {
                        labels: ['00:00', '04:00', '08:00', '12:00', '16:00', '20:00'],
                        datasets: [{
                            label: 'Stress Level',
                            data: [2, 1, 4, 6, 7, 5],
                            borderColor: '#ffa502',
                            backgroundColor: 'rgba(255, 165, 2, 0.1)',
                            tension: 0.4,
                            fill: true
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        plugins: {
                            legend: { display: false }
                        },
                        scales: {
                            x: { 
                                grid: { color: 'rgba(255,255,255,0.1)' },
                                ticks: { color: 'rgba(255,255,255,0.7)' }
                            },
                            y: { 
                                grid: { color: 'rgba(255,255,255,0.1)' },
                                ticks: { color: 'rgba(255,255,255,0.7)' },
                                min: 0, max: 10
                            }
                        }
                    }
                });
            }

            // Sleep Quality Chart
            const sleepCtx = document.getElementById('sleepChart');
            if (sleepCtx && !sleepCtx.chartInstance) {
                sleepCtx.chartInstance = new Chart(sleepCtx, {
                    type: 'bar',
                    data: {
                        labels: ['Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat', 'Sun'],
                        datasets: [{
                            label: 'Sleep Hours',
                            data: [7.5, 6.8, 8.2, 7.1, 6.5, 8.5, 9.0],
                            backgroundColor: 'rgba(30, 144, 255, 0.7)',
                            borderColor: '#1e90ff',
                            borderWidth: 1
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        plugins: {
                            legend: { display: false }
                        },
                        scales: {
                            x: { 
                                grid: { color: 'rgba(255,255,255,0.1)' },
                                ticks: { color: 'rgba(255,255,255,0.7)' }
                            },
                            y: { 
                                grid: { color: 'rgba(255,255,255,0.1)' },
                                ticks: { color: 'rgba(255,255,255,0.7)' },
                                min: 0, max: 10
                            }
                        }
                    }
                });
            }
        }

        // Initialize Statistics Charts
        function initStatsCharts() {
            // Safety Score Chart
            const safetyCtx = document.getElementById('safetyChart');
            if (safetyCtx && !safetyCtx.chartInstance) {
                const dates = [];
                const scores = [];
                for (let i = 29; i >= 0; i--) {
                    const date = new Date();
                    date.setDate(date.getDate() - i);
                    dates.push(date.toLocaleDateString('en-US', { month: 'short', day: 'numeric' }));
                    scores.push(85 + Math.random() * 15); // Random scores between 85-100
                }

                safetyCtx.chartInstance = new Chart(safetyCtx, {
                    type: 'line',
                    data: {
                        labels: dates,
                        datasets: [{
                            label: 'Safety Score',
                            data: scores,
                            borderColor: '#2ed573',
                            backgroundColor: 'rgba(46, 213, 115, 0.1)',
                            tension: 0.4,
                            fill: true
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        plugins: {
                            legend: { display: false }
                        },
                        scales: {
                            x: { 
                                grid: { color: 'rgba(255,255,255,0.1)' },
                                ticks: { 
                                    color: 'rgba(255,255,255,0.7)',
                                    maxTicksLimit: 7 
                                }
                            },
                            y: { 
                                grid: { color: 'rgba(255,255,255,0.1)' },
                                ticks: { color: 'rgba(255,255,255,0.7)' },
                                min: 80, max: 100
                            }
                        }
                    }
                });
            }

            // Activity Pattern Chart
            const activityCtx = document.getElementById('activityChart');
            if (activityCtx && !activityCtx.chartInstance) {
                activityCtx.chartInstance = new Chart(activityCtx, {
                    type: 'radar',
                    data: {
                        labels: ['Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday', 'Sunday'],
                        datasets: [{
                            label: 'Activity Level',
                            data: [8, 7, 9, 6, 7, 5, 4],
                            borderColor: '#8a2be2',
                            backgroundColor: 'rgba(138, 43, 226, 0.2)',
                            pointBackgroundColor: '#8a2be2'
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        plugins: {
                            legend: { display: false }
                        },
                        scales: {
                            r: {
                                grid: { color: 'rgba(255,255,255,0.1)' },
                                pointLabels: { color: 'rgba(255,255,255,0.7)' },
                                ticks: { 
                                    color: 'rgba(255,255,255,0.7)',
                                    backdropColor: 'transparent'
                                },
                                min: 0,
                                max: 10
                            }
                        }
                    }
                });
            }
        }

        // Add CSS animations
        const style = document.createElement('style');
        style.textContent = `
            @keyframes slideIn {
                from { transform: translateX(100%); opacity: 0; }
                to { transform: translateX(0); opacity: 1; }
            }
            @keyframes slideOut {
                from { transform: translateX(0); opacity: 1; }
                to { transform: translateX(100%); opacity: 0; }
            }
        `;
        document.head.appendChild(style);

        // Initialize app
        document.addEventListener('DOMContentLoaded', function() {
            showScreen('splash');
        });
    </script>
    <script src="js/script.js"></script>
</body>
</html>
